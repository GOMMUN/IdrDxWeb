<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.idr.pdd.mapper.WorkerSupportMapper">

    <select id="findAll" parameterType="WorkerSupport" resultType="WorkerSupport">
        SELECT 
            ROW_NUMBER() OVER(ORDER BY (SELECT 1)) AS ROWNUM,
			A.DATASEQ, 
			B.RULESYSID, 
			B.FACTORYID, 
			B.LINEID, 
			B.WORK_DATE, 
			A.PERSONID, 
			A.SUPPORTTIME_FROM, 
			A.SUPPORTTIME_TO, 
			A.MANHOUR, 
			A.CREATOR, 
			A.CREATETIME, 
			A.EVENT, 
			A.EVENTUSER, 
			A.EVENTTIME, 
			A.ISUSABLE, 
			B.TID, 
			A.WORKDAILY_SEQ
		FROM DSP_WORKER_SUPPORT A JOIN DSP_WORKDAILY_REPORT B
		ON A.WORKDAILY_SEQ = B.DATASEQ 
		WHERE 1=1 
		      AND WORKDAILY_SEQ = #{workdailySeq}
    </select>

</mapper>
